# AWS Assignment 4: EC2 Web Server & S3 Storage - Complete Notes

## Overview
This assignment covers the fundamentals of AWS cloud infrastructure by setting up a web server on an EC2 instance and storing static files in an S3 bucket. You will gain hands-on experience with two core AWS services: Amazon EC2 (Elastic Compute Cloud) and Amazon S3 (Simple Storage Service).

### Key Learning Objectives
- Launch and configure an EC2 instance
- Connect to EC2 via SSH
- Install and configure a web server (Nginx)
- Create and manage S3 buckets
- Manage public access and object permissions in S3
- Integrate EC2 and S3 services

---

## Part 1: Setting Up an EC2 Instance

### What is EC2?
Amazon EC2 (Elastic Compute Cloud) is a web service that provides resizable compute capacity in the cloud. It allows you to launch virtual machines (instances) with various configurations and operating systems.

### Step 1: Launch an EC2 Instance

#### Access AWS Management Console
1. Log in to your AWS Management Console
2. Navigate to the EC2 service
3. Click on "Launch Instance" button

#### Choose an AMI (Amazon Machine Image)
- Select "Amazon Linux 2" or "Ubuntu Server" (free tier eligible)
- Amazon Linux 2 is AWS's optimized Linux distribution
- Both are suitable for running web servers
- **Screenshot Tip**: Capture the AMI selection screen showing your chosen image

#### Select Instance Type
- Choose **t3.micro** (free tier eligible for 12 months)
- This instance type provides:
  - 1 vCPU
  - 1 GB memory
  - Low to moderate network performance
  - Suitable for low-traffic websites and testing

#### Configure Instance Details
- Keep default settings for this assignment
- Default settings include:
  - Network: Default VPC
  - Subnet: Default subnet
  - Auto-assign Public IP: Enable

#### Add Storage
- Keep default 8-30 GB storage (EBS volume)
- Default storage is sufficient for static files

#### Add Tags (Optional)
- Add tags for better resource management
- Example tags:
  - Key: Name, Value: MyWebServer
  - Key: Project, Value: Assignment4

#### Configure Security Group
Security groups act as firewalls for your instances. You must allow:

**Inbound Rules:**

| Type | Protocol | Port Range | Source |
|------|----------|-----------|--------|
| SSH | TCP | 22 | Your IP (x.x.x.x/32) |
| HTTP | TCP | 80 | 0.0.0.0/0 (Anywhere) |

**Steps to configure:**
1. Create a new security group or use an existing one
2. Name: "WebServer-SG" or similar
3. Add inbound rules as shown above
4. Outbound rules can remain default (allow all traffic)

**Security Best Practice**: Restrict SSH access to your specific IP address, not "anywhere"

#### Review and Launch
- Review all settings
- Click "Launch"
- Create a new key pair:
  - Name: assignment4-key (or descriptive name)
  - Type: RSA
  - File format: .pem
  - **IMPORTANT**: Download and save this .pem file securely
  - This is your private key - never share it
  - Store it in a safe location (e.g., ~/.ssh/)

**Screenshot Requirement**: 
- Capture the EC2 dashboard showing your running instance
- Show: Instance ID, Instance State (running), Public IPv4 address, Security group

### Step 2: Connect to Your EC2 Instance

#### Prerequisites
- Downloaded .pem file from key pair creation
- Instance must be in "running" state
- Security group must allow SSH (port 22) from your IP

#### Connection Steps (Linux/Mac)

```bash
# 1. Change permissions on the key file
chmod 400 /path/to/assignment4-key.pem

# 2. Connect via SSH
ssh -i /path/to/assignment4-key.pem ec2-user@your-public-ip

# Or for Ubuntu:
ssh -i /path/to/assignment4-key.pem ubuntu@your-public-ip
```

#### Connection Steps (Windows - PuTTY)
1. Convert .pem to .ppk using PuTTYgen
2. Open PuTTY
3. Enter your instance's public IP
4. Under Connection → SSH → Auth, select your .ppk file
5. Click Open

#### What to Look For
- You should see a welcome message
- Your terminal prompt changes to show you're on the EC2 instance
- Example: `[ec2-user@ip-172-31-xx-xx ~]$`

**Screenshot Requirement**:
- Capture terminal showing successful SSH connection
- Show the welcome message and prompt change

### Step 3: Install a Web Server (Nginx)

Nginx is a lightweight, high-performance web server suitable for serving static content.

#### Update Package Repositories

```bash
# For Amazon Linux 2
sudo yum update -y

# For Ubuntu
sudo apt-get update -y
```

**Explanation**: 
- `sudo` runs command with administrative privileges
- `-y` flag automatically confirms the update without prompting

#### Install Nginx

```bash
# For Amazon Linux 2
sudo yum install nginx -y

# For Ubuntu
sudo apt-get install nginx -y
```

#### Start the Nginx Service

```bash
# Start Nginx
sudo systemctl start nginx

# Enable Nginx to start on instance reboot
sudo systemctl enable nginx

# Verify Nginx is running
sudo systemctl status nginx
```

#### Expected Output
```
● nginx.service - The NGINX HTTP and reverse proxy server
   Loaded: loaded (/usr/lib/systemd/system/nginx.service; enabled; vendor preset: disabled)
   Active: active (running) since [date/time]
   ...
```

**Screenshot Requirement**:
- Capture terminal output showing:
  - Successful Nginx installation
  - `systemctl status nginx` showing "active (running)"
  - Service startup confirmation

### Step 4: Create a Simple HTML File

#### Locate the Web Root Directory

The web server serves files from a specific directory (document root).

```bash
# For Nginx, the default location is:
/usr/share/nginx/html/

# Change to this directory
cd /usr/share/nginx/html/
```

#### Create and Edit index.html

```bash
# Create the file using nano or vi
sudo nano index.html
```

#### Sample HTML Content

```html
<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>AWS EC2 Web Server</title>
    <style>
        body {
            font-family: Arial, sans-serif;
            display: flex;
            justify-content: center;
            align-items: center;
            height: 100vh;
            margin: 0;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
        }
        .container {
            text-align: center;
            background: white;
            padding: 50px;
            border-radius: 10px;
            box-shadow: 0 10px 25px rgba(0, 0, 0, 0.2);
        }
        h1 {
            color: #333;
            margin: 0;
        }
        p {
            color: #666;
            margin: 10px 0 0 0;
        }
        .info {
            margin-top: 20px;
            font-size: 14px;
            color: #999;
        }
    </style>
</head>
<body>
    <div class="container">
        <h1>Welcome to My AWS Web Server!</h1>
        <p>This website is hosted on Amazon EC2</p>
        <div class="info">
            <p>Assignment 4: EC2 & S3 Integration</p>
        </div>
    </div>
</body>
</html>
```

#### Save the File
- In nano: Press `Ctrl + O`, then `Enter`, then `Ctrl + X`
- In vi: Press `Esc`, type `:wq`, press `Enter`

#### Verify File Creation

```bash
# List files in the directory
ls -la /usr/share/nginx/html/

# View the file content
cat /usr/share/nginx/html/index.html
```

### Step 5: Test the Web Server

#### Obtain Public IP Address

```bash
# From EC2 instance terminal
curl http://localhost/

# Or from your local machine, get the public IP from EC2 dashboard
```

#### Access via Browser
1. Go to your EC2 instance details in the AWS Console
2. Copy the "Public IPv4 address"
3. Open a web browser (Chrome, Firefox, Safari, etc.)
4. Enter: `http://your-public-ip-address`
5. You should see your HTML page rendered

**What Should Happen**:
- Your custom HTML page displays
- Browser shows the content you created
- No error messages or connection issues

**Screenshot Requirement**:
- Capture browser window showing:
  - Your custom HTML page rendered
  - The URL bar showing your EC2 instance's public IP
  - Full page content visible

---

## Part 2: Creating an S3 Bucket and Storing HTML Files

### What is S3?
Amazon S3 (Simple Storage Service) is an object storage service that offers industry-leading scalability, data availability, and performance. It's used for storing and retrieving any amount of data from anywhere.

### Key Concepts

**Bucket**: A container for objects in S3 (similar to a folder in a file system)

**Object**: A file stored in S3 (e.g., HTML, CSS, images)

**Region**: The geographic location where your bucket data is stored

**Public Access**: Objects that can be accessed via the internet (requires specific permissions)

### Step 1: Create an S3 Bucket

#### Access S3 Service
1. Log in to AWS Management Console
2. Navigate to S3 service
3. Click "Create bucket"

#### Bucket Configuration

**Bucket Name**:
- Must be globally unique (across all AWS accounts and regions)
- Can only contain lowercase letters, numbers, hyphens, and periods
- Must be 3-63 characters long
- Example: `assignment4-yourname-bucket-2024`

**Region**:
- Choose a region close to you or your users
- Common choices: us-east-1, us-west-2, eu-west-1
- All regions have the same functionality
- **Note**: This assignment suggests you keep defaults, but choosing a specific region is common practice

#### Block Public Access Settings

**CRITICAL FOR THIS ASSIGNMENT**:
- Uncheck "Block all public access"
- Acknowledge the warning that appears
- This allows you to make objects publicly accessible

**Security Warning**: 
In production environments, you would typically want to restrict public access. For this assignment, we're explicitly allowing it for educational purposes.

**Screenshot Requirement**:
- Capture the bucket creation form showing:
  - Bucket name (globally unique name)
  - Region selection
  - "Block all public access" unchecked
  - Acknowledgment of public access warning

#### Default Settings
- Keep encryption: Default (SSE-S3)
- Keep versioning: Disabled (for this assignment)
- Keep other settings as default

#### Review and Create
- Click "Create bucket"
- Your bucket should appear in the bucket list

### Step 2: Upload the index.html File

#### Navigate to Your Bucket
1. In S3 console, click on your newly created bucket
2. You should see an empty bucket

#### Upload the File
1. Click "Upload" button
2. Choose "Add files"
3. Select your index.html file from your local machine
4. Click "Upload"

**Alternative**: Drag and drop your file into the bucket

#### Upload Confirmation
- File appears in the bucket with status "Standard"
- Size and last modified date are shown

**Screenshot Requirement**:
- Capture the S3 bucket showing:
  - Uploaded index.html file
  - File size and upload date
  - Bucket name in the header

### Step 3: Make the Object Publicly Accessible

#### Access Object Properties
1. Click on the uploaded index.html file name
2. Go to the "Permissions" tab (or "Object ACL" depending on S3 version)

#### Method 1: Using Object ACL (Older Approach)
1. Click on the file
2. Go to "Permissions"
3. Find "Access Control List (ACL)"
4. Click "Edit"
5. Check "Read" for "Everyone (public access)"
6. Save changes

#### Method 2: Using Bucket Policy (Recommended)
1. Go to bucket "Permissions"
2. Click "Bucket policy"
3. Add the following policy (replace "your-bucket-name"):

```json
{
    "Version": "2012-10-17",
    "Statement": [
        {
            "Sid": "PublicReadGetObject",
            "Effect": "Allow",
            "Principal": "*",
            "Action": "s3:GetObject",
            "Resource": "arn:aws:s3:::your-bucket-name/*"
        }
    ]
}
```

4. Click "Save"

#### Verify Public Access
- Return to Objects view
- Click the object
- You should see a public URL in the properties

### Step 4: Access the HTML File from S3

#### Find the Object URL
1. Click on your index.html file in S3
2. Scroll down to "Object overview"
3. Find "Object URL" - it will look like:
   `https://your-bucket-name.s3.amazonaws.com/index.html`
4. Copy this URL

**Alternative URL Format**:
`https://s3.amazonaws.com/your-bucket-name/index.html`

#### Access via Browser
1. Open a web browser
2. Paste the S3 object URL
3. Your HTML file should display

**What Should Happen**:
- Your HTML page renders in the browser
- The URL shows the S3 domain
- No error messages or access denied messages

**Screenshot Requirement**:
- Capture browser window showing:
  - Your HTML page rendered from S3
  - The S3 URL in the address bar
  - Full page content visible
  - Proof that it's loading from S3 (not from your EC2 instance)

---

## Troubleshooting Guide

### EC2 Connection Issues

**Problem**: Cannot connect via SSH
- **Solution 1**: Verify security group allows port 22 from your IP
- **Solution 2**: Check instance is in "running" state
- **Solution 3**: Verify key file permissions: `chmod 400 key.pem`
- **Solution 4**: Use correct username (ec2-user for Amazon Linux, ubuntu for Ubuntu)

**Problem**: Connection timeout
- **Solution**: Check your firewall allows SSH (port 22)
- Contact your IT department if on corporate network

### Web Server Issues

**Problem**: Website not loading when accessing EC2 IP
- **Solution 1**: Verify Nginx is running: `sudo systemctl status nginx`
- **Solution 2**: Check security group allows HTTP (port 80)
- **Solution 3**: Verify index.html exists: `ls /usr/share/nginx/html/`
- **Solution 4**: Check Nginx error logs: `sudo tail -f /var/log/nginx/error.log`

**Problem**: Getting "403 Forbidden" error
- **Solution**: Check file permissions: `sudo chmod 644 /usr/share/nginx/html/index.html`

### S3 Access Issues

**Problem**: Getting "Access Denied" when accessing S3 URL
- **Solution 1**: Verify "Block all public access" is unchecked
- **Solution 2**: Verify bucket policy is correctly set
- **Solution 3**: Check object ACL allows public read access

**Problem**: Cannot upload to S3 bucket
- **Solution**: Verify your AWS user has s3:PutObject permission

**Problem**: 404 error when accessing S3 URL
- **Solution 1**: Verify correct S3 URL format
- **Solution 2**: Check file name spelling and capitalization

---

## Submission Requirements & Checklist

### Required Screenshots (Minimum 8)

- [ ] 1. EC2 dashboard showing running instance with public IP
- [ ] 2. Terminal showing successful SSH connection
- [ ] 3. Terminal showing Nginx installation and running status
- [ ] 4. Browser showing rendered HTML from EC2 instance
- [ ] 5. S3 bucket creation page with name and public access settings
- [ ] 6. S3 bucket showing uploaded index.html file
- [ ] 7. Browser showing rendered HTML from S3 URL
- [ ] 8. (Optional) S3 object permissions/public access settings

### Document Organization

**Structure**:
1. **Title Page**: Assignment name, your name, date, student ID
2. **Table of Contents**: List of all sections
3. **Introduction**: Brief overview of what you accomplished
4. **Part 1: EC2 Setup**
   - Screenshot 1: EC2 dashboard
   - Caption: Explain what you see (instance ID, public IP, security group)
   - Screenshot 2: SSH connection
   - Caption: Explain the connection process
   - Screenshot 3: Nginx installation
   - Caption: Note the service status
   - Screenshot 4: Browser with HTML
   - Caption: Show EC2 IP in address bar
5. **Part 2: S3 Setup**
   - Screenshot 5: Bucket creation
   - Caption: Note bucket name and public access settings
   - Screenshot 6: Uploaded file
   - Caption: Show file in bucket
   - Screenshot 7: Browser with S3 HTML
   - Caption: Show S3 URL in address bar
6. **Conclusion**: Summary of what you learned

### Caption Guidelines

Each screenshot should have a clear, descriptive caption that includes:
- What the screenshot shows
- Key information visible (IPs, URLs, status messages)
- Any important settings or configurations
- What you did to achieve this state

**Example Caption**:
"EC2 instance dashboard showing the running instance with Public IPv4 address 52.123.456.789. The instance is configured with security group 'WebServer-SG' allowing SSH (port 22) and HTTP (port 80) access. Instance type is t3.micro, which is eligible for the free tier."

### File Conversion

**If using Microsoft Word**:
1. Arrange all screenshots with captions
2. File → Export As → PDF
3. Save as "Assignment4_YourName.pdf"

**If using Google Docs**:
1. File → Download → PDF Document
2. Save as "Assignment4_YourName.pdf"

**If using LibreOffice**:
1. File → Export as PDF
2. Save as "Assignment4_YourName.pdf"

---

## Key Concepts & Definitions

**AMI (Amazon Machine Image)**: Pre-configured operating system template for EC2 instances

**Instance Type**: Specifies the compute resources (CPU, memory, network) of an EC2 instance

**Security Group**: Virtual firewall controlling inbound and outbound traffic

**Key Pair**: Authentication mechanism for SSH access to EC2 instances

**EBS (Elastic Block Store)**: Persistent block storage for EC2 instances

**S3 Bucket**: Top-level container for storing objects in S3

**Object ACL**: Access control list determining who can access an S3 object

**Bucket Policy**: JSON-based access policy for entire bucket or specific objects

**Public Access**: Resources accessible via the internet without authentication

**Object URL**: Direct link to access an S3 object publicly

---

## Best Practices & Security Notes

### Security Considerations

1. **SSH Key Management**:
   - Never share your .pem file
   - Store in secure location with restricted permissions
   - Use different key pairs for different projects

2. **Security Groups**:
   - Restrict SSH access to your IP (not 0.0.0.0/0)
   - Only open necessary ports
   - Review inbound/outbound rules regularly

3. **S3 Public Access**:
   - Only make data public if necessary
   - Understand implications of public access
   - For production, use CloudFront distribution
   - Don't store sensitive data publicly

4. **IAM Permissions**:
   - Use least privilege principle
   - Grant only necessary permissions
   - Regularly audit access

### Cost Optimization

1. **Free Tier Eligibility**:
   - t3.micro EC2 instance (750 hours/month)
   - S3 (5 GB storage, 20,000 GET requests)
   - Stays free for 12 months (with AWS free tier account)

2. **Best Practices**:
   - Monitor your usage via AWS Cost Explorer
   - Stop instances when not needed
   - Use right-sizing tools for instances
   - Delete unused resources

---

## Additional Resources

### AWS Documentation
- EC2 User Guide: https://docs.aws.amazon.com/ec2/
- S3 User Guide: https://docs.aws.amazon.com/s3/
- Security Groups: https://docs.aws.amazon.com/vpc/latest/userguide/VPC_SecurityGroups.html

### Nginx Documentation
- Nginx Documentation: https://nginx.org/en/docs/
- Nginx Beginners Guide: https://nginx.org/en/docs/beginners_guide.html

### General AWS
- AWS Well-Architected Framework: https://aws.amazon.com/architecture/well-architected/
- AWS Free Tier: https://aws.amazon.com/free/

---

## Summary

By completing this assignment, you have:

✓ Launched an EC2 instance in AWS
✓ Configured security groups and network settings
✓ Installed and configured Nginx web server
✓ Created and deployed a static HTML website
✓ Created an S3 bucket and managed public access
✓ Uploaded and published files to S3
✓ Gained hands-on experience with two core AWS services
✓ Understood cloud computing fundamentals

These are essential skills for cloud engineers, DevOps professionals, and architects working with AWS infrastructure.

---

**Document Created**: [Current Date]
**Assignment**: AWS Assignment 4 - EC2 Web Server & S3 Storage
**Version**: 1.0