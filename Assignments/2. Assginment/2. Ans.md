# Assignment 2: Complete Step-by-Step Guide
## GitHub Actions Workflow to Read and Output hello.txt

---

## Table of Contents
1. Assignment Overview
2. Prerequisites Check
3. Step-by-Step Implementation
4. Verification Process
5. Troubleshooting
6. Submission Guidelines
7. FAQ

---

## 1. Assignment Overview

**Objective:** Create a GitHub Actions workflow that automatically reads and outputs the content of `hello.txt` file whenever code is pushed to the `main` branch.

**Key Components:**
- GitHub Repository with hello.txt file
- GitHub Actions workflow file (.yml)
- Automated trigger on push to main branch
- Workflow logs showing file content

---

## 2. Prerequisites Check

Before starting, verify you have:

### ‚úÖ Step 1: Check GitHub Repository Exists
```bash
# Your repository should be available at:
https://github.com/Ashraful-Momen/DevOps-Ostad
```

### ‚úÖ Step 2: Verify hello.txt File Exists
```bash
# Navigate to your local repository
cd ~/gitlab_project/ci_cd/task_2/DevOps-Ostad

# Check if hello.txt exists
ls -la assignment_1_version_control/hello.txt

# View the file content
cat assignment_1_version_control/hello.txt
```

**Expected Output:** You should see the content of your hello.txt file

### ‚úÖ Step 3: Verify You're on Main Branch
```bash
# Check current branch
git branch

# If not on main, create or switch to main
git checkout -b main
# OR if main exists
git checkout main
```

---

## 3. Step-by-Step Implementation

### üîß Step 1: Create Directory Structure for Workflow

```bash
# Navigate to your repository root
cd ~/gitlab_project/ci_cd/task_2/DevOps-Ostad

# Create the .github directory if it doesn't exist
mkdir -p .github/workflows

# Verify directory was created
ls -la .github/
```

**Expected Output:**
```
drwxr-xr-x  workflows
```

---

### üîß Step 2: Create the Workflow File

```bash
# Create the workflow file
nano .github/workflows/read-hello.yml
```

---

### üîß Step 3: Add Workflow Content

Copy and paste the following content into the file:

```yaml
name: Read and Output hello.txt

on:
  push:
    branches: [ main ]

jobs:
  read-file:
    runs-on: ubuntu-latest
    steps:
      - name: Checkout repository
        uses: actions/checkout@v4

      - name: Read and output hello.txt content
        run: |
          echo "Content of hello.txt:"
          cat assignment_1_version_control/hello.txt
```

**Explanation of each section:**

| Section | Meaning |
|---------|---------|
| `name: Read and Output hello.txt` | Workflow name (visible in GitHub Actions) |
| `on: push: branches: [ main ]` | Trigger when code is pushed to main branch |
| `jobs:` | Define jobs to run |
| `read-file:` | Job name |
| `runs-on: ubuntu-latest` | Run on Ubuntu environment |
| `steps:` | Steps to execute |
| `Checkout repository` | Pull the code from GitHub |
| `actions/checkout@v4` | Official GitHub action to checkout code |
| `Read and output hello.txt` | Step name |
| `run: \|` | Execute shell commands |
| `cat assignment_1_version_control/hello.txt` | Command to read and display file |

---

### üîß Step 4: Save the File

In nano editor:
```
Press Ctrl + X
Press Y (for Yes)
Press Enter (to confirm filename)
```

**Verify file was created:**
```bash
cat .github/workflows/read-hello.yml
```

You should see your workflow file content displayed.

---

### üîß Step 5: Stage the Workflow File

```bash
# Add the workflow file to git staging area
git add .github/workflows/read-hello.yml

# Verify it's staged
git status
```

**Expected Output:**
```
On branch main
Changes to be committed:
  new file:   .github/workflows/read-hello.yml
```

---

### üîß Step 6: Commit the Workflow File

```bash
# Commit with a meaningful message
git commit -m "Add GitHub Actions workflow to read and output hello.txt"
```

**Expected Output:**
```
[main ...] Add GitHub Actions workflow to read and output hello.txt
 1 file changed, 18 insertions(+)
 create mode 100644 .github/workflows/read-hello.yml
```

---

### üîß Step 7: Push to GitHub

```bash
# Push your changes to the main branch
git push origin main
```

**Expected Output:**
```
Enumerating objects: 5, done.
Counting objects: 100% (5/5), done.
Delta compression using up to 4 threads
Compressing objects: 100% (3/3), done.
Writing objects: 100% (4/4), ... bytes
```

---

## 4. Verification Process

### ‚úÖ Verification Step 1: Check GitHub Actions Dashboard

**Navigate to:**
```
https://github.com/Ashraful-Momen/DevOps-Ostad/actions
```

**What to look for:**
- Recent workflow run with green ‚úÖ checkmark
- Workflow name: "Read and Output hello.txt"
- Branch: main
- Status: Success

---

### ‚úÖ Verification Step 2: Click on the Workflow Run

1. Click on the most recent workflow run
2. You should see:
   - Workflow name
   - Branch
   - Commit message
   - Status (‚úÖ Success)

---

### ‚úÖ Verification Step 3: Expand the Job

1. Click on the **"read-file"** job in the workflow
2. You should see all the steps listed:
   - ‚úÖ Checkout repository
   - ‚úÖ Read and output hello.txt content

---

### ‚úÖ Verification Step 4: View the Output

1. Click on the **"Read and output hello.txt content"** step
2. Expand the log to see:
   ```
   Content of hello.txt:
   [Your hello.txt file content here]
   ```

**Example Output:**
```
Content of hello.txt:
Hello, this is my first hello.txt file!
Welcome to GitHub Actions workflow.
```

---

### ‚úÖ Verification Step 5: Confirm Complete

If you can see all of the above, your assignment is complete! ‚úÖ

---

## 5. Troubleshooting

### ‚ùå Problem 1: Workflow Not Triggering

**Symptoms:** No workflow run appears in Actions tab

**Solution:**
```bash
# 1. Verify you're on main branch
git branch

# 2. If not on main, create/switch to it
git checkout -b main
# OR
git checkout main

# 3. Make sure main branch exists on GitHub
git push -u origin main

# 4. Make a change and push again
echo "test" >> test.txt
git add test.txt
git commit -m "trigger workflow"
git push origin main
```

---

### ‚ùå Problem 2: Workflow Shows Red ‚ùå (Failed)

**Symptoms:** Workflow run failed with error

**Common Causes & Solutions:**

**Cause A: File path is incorrect**
- Error message: `cat: assignment_1_version_control/hello.txt: No such file or directory`
- Solution:
  ```bash
  # Check correct file path
  find . -name "hello.txt"
  # Update workflow with correct path
  ```

**Cause B: YAML syntax error**
- Error message: `workflow syntax error`
- Solution: Check indentation in `.github/workflows/read-hello.yml`
  - Use spaces (not tabs)
  - Each level should be indented 2 spaces

**Cause C: Wrong branch configured**
- Error: Workflow doesn't trigger on push
- Solution: Check workflow file has `branches: [ main ]`

---

### ‚ùå Problem 3: Cannot See Output in Logs

**Solution:**
1. Make sure you're clicking the right step: "Read and output hello.txt content"
2. The output appears in the **Logs** section, not the summary
3. Scroll down in the logs to see the output

---

## 6. Submission Guidelines

### üìù What to Submit

**1. GitHub Repository Link:**
```
https://github.com/Ashraful-Momen/DevOps-Ostad
```

**2. Verification Screenshots/Confirmation:**

Take screenshots or verify that:
- ‚úÖ Workflow file exists at `.github/workflows/read-hello.yml`
- ‚úÖ Workflow runs successfully (green checkmark)
- ‚úÖ Output shows "Content of hello.txt:" followed by file content
- ‚úÖ Workflow is triggered on push to main branch

**3. Workflow File Path:**
```
.github/workflows/read-hello.yml
```

**4. Repository Contents:**
- hello.txt file in `assignment_1_version_control/` directory
- Workflow file in `.github/workflows/` directory

---

### üìã Submission Checklist

Before submitting, verify:

- [ ] GitHub repository is public (not private)
- [ ] Repository link works: https://github.com/Ashraful-Momen/DevOps-Ostad
- [ ] Workflow file exists: `.github/workflows/read-hello.yml`
- [ ] Workflow triggers on push to main branch
- [ ] At least one successful workflow run visible
- [ ] Workflow log shows hello.txt content
- [ ] File path in workflow is correct
- [ ] YAML syntax is correct (proper indentation)

---

## 7. FAQ

### Q1: How often does the workflow run?
**A:** Every time you push code to the main branch. It will not run on other branches.

### Q2: How long does a workflow take to run?
**A:** Usually 30 seconds to 1 minute after you push.

### Q3: Can I see the workflow output?
**A:** Yes, go to Actions tab ‚Üí Click the workflow run ‚Üí Click the job ‚Üí Click the step to see the logs.

### Q4: What if I make changes to hello.txt?
**A:** The workflow will run again and show the updated content.

### Q5: Can I run the workflow manually without pushing?
**A:** Yes, you can add `workflow_dispatch` trigger:
```yaml
on:
  push:
    branches: [ main ]
  workflow_dispatch:  # Add this line
```
Then use "Run workflow" button in Actions tab.

### Q6: What if the file path is wrong?
**A:** The workflow will fail and show an error. Update the path in the workflow file.

### Q7: Do I need to delete previous workflow runs?
**A:** No, they stay in history. GitHub keeps them for you to reference.

### Q8: Is the repository link required to be public?
**A:** Yes, for submission verification. Make sure the repository is public in Settings.

---

## 8. Quick Reference

### Commands Summary

```bash
# 1. Navigate to repository
cd ~/gitlab_project/ci_cd/task_2/DevOps-Ostad

# 2. Create workflow directory
mkdir -p .github/workflows

# 3. Create workflow file
nano .github/workflows/read-hello.yml

# 4. Add, commit, and push
git add .github/workflows/read-hello.yml
git commit -m "Add GitHub Actions workflow"
git push origin main

# 5. View workflow (go to GitHub)
https://github.com/Ashraful-Momen/DevOps-Ostad/actions

# 6. Check file exists
cat assignment_1_version_control/hello.txt

# 7. Verify branch
git branch
```

---

## 9. Final Verification Checklist

Run through this final checklist:

1. **Repository:** https://github.com/Ashraful-Momen/DevOps-Ostad ‚úÖ
2. **Workflow File Location:** `.github/workflows/read-hello.yml` ‚úÖ
3. **Workflow Status:** Green checkmark (‚úÖ Success) ‚úÖ
4. **hello.txt File:** Exists in `assignment_1_version_control/` ‚úÖ
5. **Workflow Output:** Shows file content in logs ‚úÖ
6. **Branch:** Main branch ‚úÖ
7. **Trigger:** On push to main ‚úÖ

---

## üéâ Assignment Complete!

Once you have verified all the above steps, your Assignment_2 is complete and ready for submission!

**Good luck! üöÄ**